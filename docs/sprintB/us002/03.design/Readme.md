# US 002 - To Create An Announcement

## 3. Design - User Story Realization 

### 3.1. Rationale

**SSD - Alternative 1 is adopted.**

| Interaction ID                                                                                                                                                                                                                                                                                                                                                                                                         | Question: Which class is responsible for...                                                      | Answer                                          | Justification (with patterns)                     |
|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------|:------------------------------------------------|:--------------------------------------------------|
| Step \ Msg 1 : asks to create a announcement  		                                                                                                                                                                                                                                                                                                                                                                       | 	   ...instantiating the class that handles the UI?                                              | CreateAnnouncementUI                            | Pure fabrication                                  |
| Step \ Msg 2 : shows the list of property and comission types available                                                                                                                                                                                                                                                                                                                                                | 	       ...obtaining the list of property and comission types?                                   | PropertyTypeRepository  ComissionTypeRepository | Information expert, pure fabrication              |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | ... showing the list of comission types and property types?                                      | CreateAnnouncementUI                            | Pure fabrication                                  |
| 	                                                                                                                                                                                                                                                                                                                                                                                                                      | ...the input the UI will receive?                                                                | Agent                                           |                                                   |
| Step \ Msg 3 : inputs choices	                                                                                                                                                                                                                                                                                                                                                                                         | ...validating the selected agent?	                                                               | CreateAnnouncementUI                            | Pure fabrication                                  |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | ...keeping the selected agent temporarily?                                                       | CreateAnnouncementUI                                  | Pure fabrication                                  |
| Step \ Msg 4 : requests data	                                                                                                                                                                                                                                                                                                                                                                                          | ... showing the type of properties to the user?	                                                 | CreateAnnouncementUI                                  | Pure fabrication                                  |
| 	                                                                                                                                                                                                                                                                                                                                                                                                                      | ...obtaining the type of properties?                                                             | PropertyTypeRepository                          | Information expert, pure fabrication              |
| 	                                                                                                                                                                                                                                                                                                                                                                                                                      | ...the input the UI will receive?                                                                | Owner                                           |                                                   |
| Step \ Msg 5 : types requested data (land) 		                                                                                                                                                                                                                                                                                                                                                                          | ...validating the selected type of preperty?                                                     | CreateAnnouncementUI                                  | Pure fabrication                                  |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | ...keeping the selected type of property temporarily?	                                           | CreateAnnouncementUI                                | Pure fabrication                                  |
| Step \ Msg 6 : requests data about the property 		                                                                                                                                                                                                                                                                                                                                                                     | ...displaying the UI for the owner to input data?                                                | CreateAnnouncementUI                                | Pure fabrication                                  |
| Step \ Msg 7 : submits data (type of transaction, value of transaction, the area in m2, the location, the distance from the city centre, the requested price, one or more photographs) 		                                                                                                                                                                                                                              | 	       ...validating the data locally (mandatory data)?                                         | Property                                        | The information expert has created its own data   |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | ...creating the property object?                                                                 | Property                                        | Creator R:. 1,2                                   |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | 	                          ...adding to a collection and globally validating duplicated records? | Property                                        | The information expert knows all of its instances |
| Step \ Msg 8 : types requested data (apartment) 		                                                                                                                                                                                                                                                                                                                                                                     | ...validating the selected type of preperty?                                                     | CreateAnnouncementUI                                  | Pure fabrication                                  |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | ...keeping the selected type of property temporarily?	                                           | CreateAnnouncementUI                                | Pure fabrication                                  |
| Step \ Msg 9 : requests data about the property 		                                                                                                                                                                                                                                                                                                                                                                     | ...displaying the UI for the owner to input data?                                                | CreateAnnouncementUI                                | Pure fabrication                                  |
| Step \ Msg 10 : submits data (type of transaction, value of transaction, the area in m2, the location, the distance from the city centre, the requested price, one or more photographs, the number of bedrooms, the number of bathrooms, the number of parking spaces, the available equipment (such as central heating and/or air conditioning)) 		                                                                   | 	       ...validating the data locally (mandatory data)?                                         | Property                                        | The information expert has created its own data   |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | ...creating the property object?                                                                 | Building                                        | Creator R:. 1,2                                   |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | 	                          ...adding to a collection and globally validating duplicated records? | Building                                        | The information expert knows all of its instances |
| Step \ Msg 11 : types requested data (house) 		                                                                                                                                                                                                                                                                                                                                                                        | ...validating the selected type of preperty?                                                     | CreateAnnouncementUI                                  | Pure fabrication                                  |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | ...keeping the selected type of property temporarily?	                                           | CreateAnnouncementUI                                | Pure fabrication                                  |
| Step \ Msg 12 : requests data about the property 		                                                                                                                                                                                                                                                                                                                                                                    | ...displaying the UI for the owner to input data?                                                | CreateAnnouncementUI                                | Pure fabrication                                  |
| Step \ Msg 13 : submits data (type of transaction, value of transaction, the area in m2, the location, the distance from the city centre, the requested price, one or more photographs, the number of bedrooms, the number of bathrooms, the number of parking spaces, the available equipment (such as central heating and/or air conditioning), the existence of a basement, an inhabitable loft, the sun exposure)	 | 	       ...validating the data locally (mandatory data)?                                         | Property                                        | The information expert has created its own data   |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | ...creating the property object?                                                                 | House                                           | Creator R:. 1,2                                   |
| 		                                                                                                                                                                                                                                                                                                                                                                                                                     | 	                          ...adding to a collection and globally validating duplicated records? | House                                           | The information expert knows all of its instances |
| Step \ Msg 14 : displays success message	                                                                                                                                                                                                                                                                                                                                                                              | 	         ...informing operation success?                                                        | CreateAnnouncementUI                                  | Pure fabrication                                  |

### Systematization ##

According to the taken rationale, the conceptual classes promoted to software classes are: 

 * House
 * Land
 * Apartment
 * Building

Other software classes (i.e. Pure Fabrication) identified: 

 * CreateAnnouncementUI
 * CreateAnnouncementController


## 3.2. Sequence Diagram (SD)


**Sequence Diagram Overview**

![Sequence Diagram - Split](svg/us002-sequence-diagram-full.svg)



**Create photoList**

![Sequence Diagram - Create Address](svg/us002-sequence-diagram-partial-create-photoList.svg)

**Create address**

![Sequence Diagram - Partial - Create Address](svg/us002-sequence-diagram-partial-create-address.svg)

**Create equipmentList**

![Sequence Diagram - Partial - Get Employee](svg/us002-sequence-diagram-partial-create-equipmentList.svg)

## 3.3. Class Diagram (CD)

![Class Diagram](svg/us002-class-diagram.svg)